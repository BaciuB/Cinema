<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Technical Operators</title>
</head>
<body>

<h1>Technical Operators</h1>

<p><a th:href="@{/technicaloperators/new}">Add Technical Operator</a></p>

<form th:action="@{/technicaloperators}" method="get" style="margin-bottom:16px;">
    <fieldset>
        <legend>Filter + Sort</legend>

        <div>
            <label for="name">Name contains</label><br>
            <input id="name" name="name" th:value="${name}">
        </div>

        <div>
            <label for="specialization">Specialization</label><br>
            <select id="specialization" name="specialization">
                <option value="">-- any --</option>
                <option th:each="s : ${specializations}"
                        th:value="${s}"
                        th:text="${s}"
                        th:selected="${specialization} == ${s}">
                </option>
            </select>
        </div>

        <div>
            <label for="minSalary">Min salary</label><br>
            <input id="minSalary" name="minSalary" type="number" min="0" th:value="${minSalary}">
        </div>

        <div>
            <label for="maxSalary">Max salary</label><br>
            <input id="maxSalary" name="maxSalary" type="number" min="0" th:value="${maxSalary}">
        </div>

        <hr>

        <div>
            <label for="sortField">Sort by</label><br>
            <select id="sortField" name="sortField">
                <option value="id" th:selected="${sortField}=='id'">ID</option>
                <option value="name" th:selected="${sortField}=='name'">Name</option>
                <option value="salary" th:selected="${sortField}=='salary'">Salary</option>
                <option value="specialization" th:selected="${sortField}=='specialization'">Specialization</option>
            </select>
        </div>

        <div>
            <label for="sortDir">Direction</label><br>
            <select id="sortDir" name="sortDir">
                <option value="asc" th:selected="${sortDir}=='asc'">ASC</option>
                <option value="desc" th:selected="${sortDir}=='desc'">DESC</option>
            </select>
        </div>

        <div>
            <label for="size">Page size</label><br>
            <select id="size" name="size">
                <option value="5" th:selected="${size}==5">5</option>
                <option value="10" th:selected="${size}==10">10</option>
                <option value="20" th:selected="${size}==20">20</option>
            </select>
        </div>

        <input type="hidden" name="page" value="0">

        <p>
            <button type="submit">Apply</button>
            <a th:href="@{/technicaloperators}">Reset</a>
        </p>
    </fieldset>
</form>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th><th>Name</th><th>Salary</th><th>Specialization</th><th>Actions</th>
    </tr>
    <tr th:each="o : ${technicaloperators}">
        <td th:text="${o.id}">TO1</td>
        <td th:text="${o.name}">Dan</td>
        <td th:text="${o.salary}">5000</td>
        <td th:text="${o.specialization}">PROJECTION</td>
        <td>
            <a th:href="@{'/technicaloperators/' + ${o.id}}">Details</a> |
            <a th:href="@{'/technicaloperators/' + ${o.id} + '/edit'}">Edit</a>
            <form th:action="@{'/technicaloperators/' + ${o.id} + '/delete'}" method="post" style="display:inline">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
</table>

<!-- PAGINATION -->
<div th:if="${page != null}" style="margin-top:12px;">
    <span th:text="'Page ' + (${page.number}+1) + ' / ' + ${page.totalPages}"></span>

    <div style="margin-top:8px;">
        <a th:if="${page.hasPrevious()}"
           th:href="@{/technicaloperators(
        name=${name},
        specialization=${specialization},
        minSalary=${minSalary},
        maxSalary=${maxSalary},
        sortField=${sortField},
        sortDir=${sortDir},
        size=${size},
        page=${page.number - 1}
   )}">
            Prev
        </a>


        <a th:if="${page.hasNext()}"
           th:href="@{/technicaloperators(name=${name}, specialization=${specialization}, minSalary=${minSalary}, maxSalary=${maxSalary},
                    sortField=${sortField}, sortDir=${sortDir}, size=${size}, page=${page.number+1})}"
           style="margin-left:10px;">
            Next
        </a>
    </div>
</div>

<p><a th:href="@{/}">Back home</a></p>

</body>
</html>
