<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>Support Staff</title>
</head>
<body>

<h1>Support Staff</h1>

<p><a th:href="@{/supportstaff/new}">Add Support Staff</a></p>

<form th:action="@{/supportstaff}" method="get" style="margin-bottom:16px;">
    <fieldset>
        <legend>Filter + Sort</legend>

        <div>
            <label for="name">Name contains</label><br>
            <input id="name" name="name" th:value="${name}">
        </div>

        <div>
            <label for="role">Role</label><br>
            <select id="role" name="role">
                <option value="">-- any --</option>
                <option th:each="r : ${roles}"
                        th:value="${r}"
                        th:text="${r}"
                        th:selected="${role} == r">
                </option>
            </select>
        </div>

        <div>
            <label for="minSalary">Min salary</label><br>
            <input id="minSalary" name="minSalary" type="number" min="0" th:value="${minSalary}">
        </div>

        <div>
            <label for="maxSalary">Max salary</label><br>
            <input id="maxSalary" name="maxSalary" type="number" min="0" th:value="${maxSalary}">
        </div>

        <hr>

        <div>
            <label for="sortField">Sort by</label><br>
            <select id="sortField" name="sortField">
                <option value="id" th:selected="${sortField}=='id'">ID</option>
                <option value="name" th:selected="${sortField}=='name'">Name</option>
                <option value="salary" th:selected="${sortField}=='salary'">Salary</option>
                <option value="role" th:selected="${sortField}=='role'">Role</option>
            </select>
        </div>

        <div>
            <label for="sortDir">Direction</label><br>
            <select id="sortDir" name="sortDir">
                <option value="asc" th:selected="${sortDir}=='asc'">ASC</option>
                <option value="desc" th:selected="${sortDir}=='desc'">DESC</option>
            </select>
        </div>

        <div>
            <label for="size">Page size</label><br>
            <select id="size" name="size">
                <option value="5" th:selected="${size}==5">5</option>
                <option value="10" th:selected="${size}==10">10</option>
                <option value="20" th:selected="${size}==20">20</option>
            </select>
        </div>

        <input type="hidden" name="page" value="0">

        <p>
            <button type="submit">Apply</button>
            <a th:href="@{/supportstaff}">Reset</a>
        </p>
    </fieldset>
</form>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Salary</th>
        <th>Role</th>
        <th>Actions</th>
    </tr>

    <tr th:each="s : ${supportstaff}">
        <td th:text="${s.id}">SST1</td>
        <td th:text="${s.name}">John</td>
        <td th:text="${s.salary}">3000</td>
        <td th:text="${s.role}">SECURITY</td>

        <td>
            <a th:href="@{'/supportstaff/' + ${s.id}}">Details</a> |
            <a th:href="@{'/supportstaff/' + ${s.id} + '/edit'}">Edit</a>
            <form th:action="@{'/supportstaff/' + ${s.id} + '/delete'}" method="post" style="display:inline">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
</table>

<div th:if="${page != null}" style="margin-top:12px;">
    <span th:text="'Page ' + (${page.number} + 1) + ' / ' + ${page.totalPages}"></span>

    <div style="margin-top:8px;">
        <a th:if="${page.hasPrevious()}"
           th:href="@{/supportstaff(
                name=${name},
                role=${role},
                minSalary=${minSalary},
                maxSalary=${maxSalary},
                sortField=${sortField},
                sortDir=${sortDir},
                size=${size},
                page=${page.number - 1}
           )}">
            Prev
        </a>

        <a th:if="${page.hasNext()}"
           th:href="@{/supportstaff(
                name=${name},
                role=${role},
                minSalary=${minSalary},
                maxSalary=${maxSalary},
                sortField=${sortField},
                sortDir=${sortDir},
                size=${size},
                page=${page.number + 1}
           )}"
           style="margin-left:10px;">
            Next
        </a>
    </div>
</div>

<p><a th:href="@{/}">Back home</a></p>

</body>
</html>
